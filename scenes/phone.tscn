[gd_scene load_steps=22 format=3 uid="uid://bkorx52wivetv"]

[ext_resource type="Script" uid="uid://bfqiw27quea5c" path="res://scripts/phone.gd" id="1_3rig2"]
[ext_resource type="Texture2D" uid="uid://bk8hkm6k2awyr" path="res://assets/sprites/MessageApp.png" id="2_8nsb0"]
[ext_resource type="AudioStream" uid="uid://dm50ipn6oxjhj" path="res://assets/sounds/Notif.wav" id="2_espqj"]
[ext_resource type="Material" uid="uid://bk7tsxashm07s" path="res://assets/materials/black_phone.tres" id="2_mseb3"]
[ext_resource type="Texture2D" uid="uid://4h7to1jx3ej7" path="res://assets/sprites/NavigationApp.png" id="3_8moxm"]
[ext_resource type="ArrayMesh" uid="uid://bi3ixmqlo6hjt" path="res://assets/models/i phone x.obj" id="3_qvaam"]
[ext_resource type="Script" uid="uid://dv4pnjepy8upm" path="res://scripts/message_app.gd" id="4_espqj"]
[ext_resource type="Script" uid="uid://camtvcqyxom8g" path="res://scripts/navigation_app.gd" id="6_eoxts"]
[ext_resource type="Script" uid="uid://8sjj45rb5c1o" path="res://scripts/uber_app.gd" id="8_mseb3"]
[ext_resource type="Texture2D" uid="uid://dp2aarm0tdnbh" path="res://assets/sprites/UberApp.png" id="8_oijjg"]
[ext_resource type="Script" uid="uid://0yp07ms2oyb" path="res://scripts/app_action.gd" id="9_g4p5k"]
[ext_resource type="Script" uid="uid://lmjhorjtkdf1" path="res://scripts/taxi_button.gd" id="11_qvaam"]
[ext_resource type="PackedScene" uid="uid://y102tpa830md" path="res://scenes/fade_ui.tscn" id="12_qvaam"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2bymc"]
resource_local_to_scene = true
albedo_color = Color(0.07683582, 0.07683582, 0.07683582, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_2bymc"]
size = Vector3(0.03, 0.03, 0.02)

[sub_resource type="BoxShape3D" id="BoxShape3D_fks7e"]
size = Vector3(1.1264648, 1.0702447, 0.6)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qvaam"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_6edc7"]
material = SubResource("StandardMaterial3D_qvaam")
size = Vector3(0.03, 0.03, 0.01)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mseb3"]
albedo_color = Color(0.030500045, 0.61, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_mseb3"]
material = SubResource("StandardMaterial3D_mseb3")
size = Vector3(0.2, 0.05, 0.05)

[sub_resource type="BoxShape3D" id="BoxShape3D_qvaam"]
size = Vector3(0.2, 0.05, 0.05)

[node name="Phone" type="Node3D" node_paths=PackedStringArray("message_app", "navigation_app", "uber_app")]
script = ExtResource("1_3rig2")
message_app = NodePath("PhoneCase/MessageApp")
navigation_app = NodePath("PhoneCase/NavigationApp")
uber_app = NodePath("PhoneCase/UberApp")
notification_sound = ExtResource("2_espqj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.0009996099, -2.7922617e-05, 5.105192e-07, -3.931042e-07, -4.2103434e-06, -0.0009999911, 2.7924523e-05, -0.0009996012, 4.197725e-06, -0.30202705, -0.07118237, 0.053258598)
material_override = ExtResource("2_mseb3")
mesh = ExtResource("3_qvaam")
surface_material_override/0 = SubResource("StandardMaterial3D_2bymc")

[node name="PhoneCase" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.44553834, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhoneCase"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.1567932, -0.24692577, 0.0068544634)
shape = SubResource("BoxShape3D_2bymc")

[node name="MessageApp" type="Area3D" parent="PhoneCase"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.20450224, -0.14208192, 0.057910874)
script = ExtResource("4_espqj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhoneCase/MessageApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0.010249674, -0.00056016445, -0.029523186)
shape = SubResource("BoxShape3D_fks7e")

[node name="MeshInstance3D" type="MeshInstance3D" parent="PhoneCase/MessageApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.01, 0, 0, 0)
visible = false
mesh = SubResource("BoxMesh_6edc7")

[node name="AppIcon" type="Sprite3D" parent="PhoneCase/MessageApp"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0.010439515, 0, -0.0024973974)
texture = ExtResource("2_8nsb0")

[node name="NavigationApp" type="Area3D" parent="PhoneCase"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.09429926, -0.14176825, 0.050646484)
script = ExtResource("6_eoxts")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhoneCase/NavigationApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, -0.029523186)
shape = SubResource("BoxShape3D_fks7e")

[node name="MeshInstance3D" type="MeshInstance3D" parent="PhoneCase/NavigationApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.01, 0, 0, 0)
visible = false
mesh = SubResource("BoxMesh_6edc7")

[node name="AppIcon" type="Sprite3D" parent="PhoneCase/NavigationApp"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -0.02467373, 0, 0.0028326586)
texture = ExtResource("3_8moxm")

[node name="UberApp" type="Area3D" parent="PhoneCase"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, -0.20953503, -0.2134952, 0.056772277)
script = ExtResource("8_mseb3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhoneCase/UberApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, -0.029523186)
shape = SubResource("BoxShape3D_fks7e")

[node name="MeshInstance3D" type="MeshInstance3D" parent="PhoneCase/UberApp"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.01, 0, 0, 0)
visible = false
mesh = SubResource("BoxMesh_6edc7")

[node name="AppIcon" type="Sprite3D" parent="PhoneCase/UberApp"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0.016710967, 0, 0.0028326586)
texture = ExtResource("8_oijjg")

[node name="Timer" type="Timer" parent="PhoneCase/UberApp"]
wait_time = 60.0
one_shot = true

[node name="AppAction" type="Area3D" parent="PhoneCase"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.15582523, -0.24591404, 0.0075974017)
input_ray_pickable = false
script = ExtResource("9_g4p5k")

[node name="CloseAppButton" type="CollisionShape3D" parent="PhoneCase/AppAction"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.07389711, 0.1517359, 0.046212792)
visible = false
shape = SubResource("BoxShape3D_2bymc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="PhoneCase/AppAction/CloseAppButton"]
mesh = SubResource("BoxMesh_6edc7")
skeleton = NodePath("../..")

[node name="CloseLabel" type="Label3D" parent="PhoneCase/AppAction/CloseAppButton"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, 0, 0, 0.005925834)
text = "X
"
outline_size = 0

[node name="Appscreen" type="Sprite3D" parent="PhoneCase/AppAction"]
transform = Transform3D(0.025, 0, 0, 0, 0.025, 0, 0, 0, 0.025, 0.005274579, 0, 0.050863817)

[node name="TaxiLabel" type="Label3D" parent="PhoneCase/AppAction"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0.004266396, 0.010563552, 0.043793514)
visible = false
text = "Your taxi will arrive in:"
font_size = 36
autowrap_mode = 2
width = 200.0

[node name="TaxiButton" type="Node3D" parent="PhoneCase/AppAction"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0055533648, 0, 0)
visible = false
script = ExtResource("11_qvaam")

[node name="Label3D" type="Label3D" parent="PhoneCase/AppAction/TaxiButton"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 0, 0.048224337)
text = "Call a taxi"
font_size = 36
autowrap_mode = 2
width = 200.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="PhoneCase/AppAction/TaxiButton"]
transform = Transform3D(0.99999994, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.021535695)
mesh = SubResource("BoxMesh_mseb3")

[node name="Area3D" type="Area3D" parent="PhoneCase/AppAction/TaxiButton/MeshInstance3D"]
transform = Transform3D(1.0000001, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="PhoneCase/AppAction/TaxiButton/MeshInstance3D/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7.109344e-05)
shape = SubResource("BoxShape3D_qvaam")

[node name="SFX" type="AudioStreamPlayer3D" parent="PhoneCase"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.44553834, 0)

[node name="FadeUi" parent="." instance=ExtResource("12_qvaam")]

[connection signal="mouse_entered" from="PhoneCase" to="." method="on_mouse_enter"]
[connection signal="mouse_exited" from="PhoneCase" to="." method="on_mouse_exit"]
[connection signal="input_event" from="PhoneCase/MessageApp" to="PhoneCase/MessageApp" method="_on_input_event"]
[connection signal="mouse_entered" from="PhoneCase/MessageApp" to="." method="on_mouse_enter"]
[connection signal="mouse_exited" from="PhoneCase/MessageApp" to="." method="on_mouse_exit"]
[connection signal="open_message_app" from="PhoneCase/MessageApp" to="." method="_on_open_message_app"]
[connection signal="input_event" from="PhoneCase/NavigationApp" to="PhoneCase/NavigationApp" method="_on_input_event"]
[connection signal="mouse_entered" from="PhoneCase/NavigationApp" to="." method="on_mouse_enter"]
[connection signal="mouse_exited" from="PhoneCase/NavigationApp" to="." method="on_mouse_exit"]
[connection signal="open_navigation_app" from="PhoneCase/NavigationApp" to="." method="_on_open_navigation_app"]
[connection signal="input_event" from="PhoneCase/UberApp" to="PhoneCase/UberApp" method="_on_input_event"]
[connection signal="mouse_entered" from="PhoneCase/UberApp" to="." method="on_mouse_enter"]
[connection signal="mouse_exited" from="PhoneCase/UberApp" to="." method="on_mouse_exit"]
[connection signal="open_uber_app" from="PhoneCase/UberApp" to="." method="_on_open_uber_app"]
[connection signal="timeout" from="PhoneCase/UberApp/Timer" to="." method="_on_timer_end"]
[connection signal="timeout" from="PhoneCase/UberApp/Timer" to="FadeUi" method="on_taxi_arrived"]
[connection signal="close_app" from="PhoneCase/AppAction" to="." method="_on_app_close"]
[connection signal="input_event" from="PhoneCase/AppAction" to="PhoneCase/AppAction" method="_on_input_event"]
[connection signal="mouse_entered" from="PhoneCase/AppAction" to="." method="on_mouse_enter"]
[connection signal="mouse_exited" from="PhoneCase/AppAction" to="." method="on_mouse_exit"]
[connection signal="taxi_called" from="PhoneCase/AppAction/TaxiButton" to="." method="_on_taxi_called"]
[connection signal="input_event" from="PhoneCase/AppAction/TaxiButton/MeshInstance3D/Area3D" to="PhoneCase/AppAction/TaxiButton" method="_on_input_event"]
[connection signal="fade_out_completed" from="FadeUi" to="." method="_on_fade_out_completed"]
